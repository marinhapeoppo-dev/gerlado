<!DOCTYPE html>
<html lang="en">

<head>
    <!-- icon animated -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome-animation/0.0.8/font-awesome-animation.min.css" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Geraldo || APIs</title>
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/default.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body id="page-top" class="dark-mode">
    <div id="wrapper">
        <!-- Sidebar -->
        <ul class="navbar-nav sidebar sidebar-light accordion" id="accordionSidebar">
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
                <i class="fa fa-smile-beam fa-2x"></i>
                <div class="sidebar-brand-text mx-3">Geraldo APIs</div>
            </a>
            <hr class="sidebar-divider my-0">
            <li class="nav-item active">
                <a class="nav-link" href="/stats">
                    <i class="fas fa-fw fa-thermometer-three-quarters"></i>
                    <span>Statistic</span>
                </a>
            </li>
            <hr class="sidebar-divider">
            <div class="sidebar-heading">
                Features
            </div>
            
            <!-- Artificial Intelligence Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseSticker"
                    aria-expanded="true" aria-controls="collapseSticker">
                    <i class="fas fa-robot"></i>
                    <span>Artificial Intelligence</span>
                </a>
                <div id="collapseSticker" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
                    <div class="py-2 collapse-inner rounded">
                        <a class="collapse-item" target="_blank" href="/api/ragbot?message=hai">RagBot Ai</a>
                        <a class="collapse-item" target="_blank" href="/api/smartcontract?message=hai">SmartContract Ai</a>
                        <a class="collapse-item" target="_blank" href="/api/blackboxAIChat?message=hai">BlackboxAIChat Ai</a>
                        <a class="collapse-item" target="_blank" href="/api/gpt?text=hai">Chat Gpt Ai</a>
                        <a class="collapse-item" target="_blank" href="/api/degreeguru?message=hai">DegreeGuru Ai</a>
                    </div>
                </div>
            </li>

            <!-- Downloader Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseDownloader"
                    aria-expanded="true" aria-controls="collapseDownloader">
                    <i class="fas fa-download"></i>
                    <span>Downloader</span>
                </a>
                <div id="collapseDownloader" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
                    <div class="py-2 collapse-inner rounded">
                        <a class="collapse-item" target="_blank" href="/api/download-douyin?url=">Douyin Downloader</a>
                        <a class="collapse-item" target="_blank" href="/api/aio-downloader?url=https://open.spotify.com/track/3rPtS4nfpy7PsARctAWpzd">All-in-One Downloader</a>
                    </div>
                </div>
            </li>
            
            <!-- Tools Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTools"
                    aria-expanded="true" aria-controls="collapseTools">
                    <i class="fas fa-tools"></i>
                    <span>Tools</span>
                </a>
                <div id="collapseTools" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
                    <div class="py-2 collapse-inner rounded">
                        <a class="collapse-item" href="#" data-toggle="modal" data-target="#uploadModal">
                            <i class="fas fa-upload mr-2"></i>Top4Top Uploader
                        </a>
                    </div>
                </div>
            </li>
            
            <!-- NSFW Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseNsfw"
                    aria-expanded="true" aria-controls="collapseNsfw">
                    <i class="fas fa-eye-slash"></i>
                    <span>NSFW</span>
                </a>
                <div id="collapseNsfw" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
                    <div class="py-2 collapse-inner rounded">
                        <a class="collapse-item" target="_blank" href="/api/nsfw">Random Image</a>
                    </div>
                </div>
            </li>
            
            <hr class="sidebar-divider">
            <div class="sidebar-heading">
                Contact
            </div>
            <li class="nav-item">
                <a class="nav-link" href="https://wa.me/6281916807680" target="_blank">
                    <i class="fab fa-brands fa-whatsapp"></i>
                    <span>WhatsApp</span>
                </a>
            </li>
            <hr class="sidebar-divider">
        </ul>
        <!-- Sidebar -->
        
        <div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
                <!-- TopBar -->
                <nav class="navbar navbar-expand navbar-light bg-navbar topbar mb-4 static-top">
                    <button id="sidebarToggleTop" class="btn btn-link rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>
                    <ul class="navbar-nav ml-auto">
                        <div class="topbar-divider d-none d-sm-block"></div>
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-search fa-fw"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in"
                                aria-labelledby="searchDropdown">
                                <form class="navbar-search">
                                    <div class="input-group">
                                        <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..."
                                            aria-label="Search" aria-describedby="basic-addon2">
                                        <div class="input-group-append">
                                            <button class="btn btn-primary" type="button">
                                                <i class="fas fa-search fa-sm"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </li>
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-bell fa-fw"></i>
                                <span class="badge badge-success badge-counter">2</span>
                            </a>
                            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                aria-labelledby="alertsDropdown">
                                <h6 class="dropdown-header bg-info-gradient">
                                    INFO CENTER
                                </h6>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-danger">
                                            <i class="fas fa-info-circle text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500"></div>
                                        <span style="font-size:12px;">Welcome to my rest apis</span>
                                    </div>
                                </a>
                                <a class="dropdown-item d-flex align-items-center" href="#">
                                    <div class="mr-3">
                                        <div class="icon-circle bg-danger">
                                            <i class="fas fa-file-alt text-white"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="small text-gray-500">December 8, 2025</div>
                                        <span style="font-size:14px;">Didirikan Rest Api</span>
                                    </div>
                                </a>
                            </div>
                        </li>
                    </ul>
                </nav>
                <!-- End of Topbar -->

                <!-- Container Fluid-->
                <div class="container-fluid" id="container-wrapper">
                    <div class="card h-50 mb-4">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col mr-2">
                                    <h3 style="margin-bottom: 0;"><i class="fas fa-ruler text-danger"></i> S&K</h3>
                                    <div class="card-body mb-3">
                                        <ol>
                                            <li>Jangan flooding requests.</li>
                                            <li>Owner dapat sewaktu waktu mengubah ketentuan di website ini, demi menjaga kualitas website.</li>
                                            <li>Semua fitur yang ada di sini free dan unlimited request</li>
                                            <li>Jangan ditembak atuh, sakit.</li>
                                            <li>Owner tidak bertanggung jawab atas apa yang Anda lakukan dalam penggunaan website ini.</li>
                                            <li><strong>Fitur baru:</strong> Top4Top Uploader untuk upload file ke hosting eksternal</li>
                                        </ol>
                                    </div>
                                </div>
                                <div class="col-auto">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <!-- Earnings (Annual) Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card h-50">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-uppercase mb-1">Baterai</div>
                                            <div class="h5 mb-0 font-weight-bold"><span id="battery-level">Loading...</span>% <br><span id="charging-status"></span></div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-battery-full faa-ring animated fa-2x text-primary"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Pending Requests Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card h-50">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-uppercase mb-1">Address</div>
                                            <div class="h5 mb-0 font-weight-bold"><span id="ip-address">Loading...</span></div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-solid fa-satellite-dish faa-ring animated fa-2x text-primary"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Container Fluid-->
                
                <!-- Donation Section -->
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <p>Someone want to donate me?</p>
                        <p>
                            <a href="https://saweria.co/putuofc" class="btn btn-primary btn-sm mr-2" target="_blank">
                                <i class="fa fa-fw fa-wallet"></i>&nbsp;Saweria
                            </a>
                        </p>
                    </div>
                </div>
                
            </div>
            
            <!-- Footer -->
            <footer class="sticky-footer">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        Made with <i class="fa fa-heart faa-flash animated"></i> by
                        <a href="https://github.com/siputzx" target="_blank" style="color: #fff;">Geraldo Team</a>
                    </div>
                </div>
            </footer>
            <!-- End Footer -->
        </div>
    </div>

    <!-- Modal Upload -->
    <div class="modal fade" id="uploadModal" tabindex="-1" role="dialog" aria-labelledby="uploadModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="uploadModalLabel">
                        <i class="fas fa-upload mr-2"></i>Top4Top File Uploader
                    </h5>
                    <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle mr-2"></i>
                        Upload file Anda ke hosting eksternal (top4top.io). Mendukung berbagai format file.
                    </div>
                    
                    <form id="uploadForm">
                        <div class="form-group">
                            <label for="fileInput" class="font-weight-bold">
                                <i class="fas fa-file mr-2"></i>Pilih File:
                            </label>
                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="fileInput" required>
                                <label class="custom-file-label" for="fileInput" id="fileLabel">Choose file</label>
                            </div>
                            <small class="form-text text-muted">
                                Maksimal ukuran file tergantung dari server top4top.io
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label class="font-weight-bold">
                                <i class="fas fa-info-circle mr-2"></i>File Info:
                            </label>
                            <div id="fileInfo" class="alert alert-secondary">
                                Belum ada file yang dipilih
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg btn-block">
                                <span id="uploadSpinner" class="spinner-border spinner-border-sm d-none mr-2" role="status" aria-hidden="true"></span>
                                <i class="fas fa-cloud-upload-alt mr-2"></i>Upload File
                            </button>
                        </div>
                    </form>
                    
                    <div id="resultContainer" class="mt-4 d-none">
                        <h5 class="text-success">
                            <i class="fas fa-check-circle mr-2"></i>Upload Berhasil!
                        </h5>
                        <div class="alert alert-success">
                            <h6 class="alert-heading">
                                <i class="fas fa-link mr-2"></i>Download URL:
                            </h6>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="downloadUrl" readonly>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-success" type="button" onclick="copyToClipboard()">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                    <a href="#" class="btn btn-outline-primary" id="openUrl" target="_blank">
                                        <i class="fas fa-external-link-alt"></i> Open
                                    </a>
                                </div>
                            </div>
                            <div class="text-center mt-2">
                                <button class="btn btn-sm btn-secondary" onclick="shareResult()">
                                    <i class="fas fa-share-alt mr-1"></i> Bagikan
                                </button>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button class="btn btn-outline-secondary" onclick="resetForm()">
                                <i class="fas fa-redo mr-1"></i> Upload File Lain
                            </button>
                        </div>
                    </div>
                    
                    <div id="errorContainer" class="mt-4 d-none">
                        <div class="alert alert-danger">
                            <h6 class="alert-heading">
                                <i class="fas fa-exclamation-triangle mr-2"></i>Upload Gagal!
                            </h6>
                            <p id="errorMessage"></p>
                        </div>
                        <div class="text-center">
                            <button class="btn btn-outline-danger" onclick="resetForm()">
                                <i class="fas fa-redo mr-1"></i> Coba Lagi
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll to top -->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="js/ruang-admin.min.js"></script>
    <script src="js/tampilan.js"></script>
    
    <script>
        // Script untuk mendapatkan IP Address
        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                document.getElementById('ip-address').textContent = data.ip;
            } catch (error) {
                document.getElementById('ip-address').textContent = 'Tidak dapat mengambil IP';
            }
        }

        // Script untuk mendapatkan status baterai
        function getBatteryStatus() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function(battery) {
                    updateBatteryInfo(battery);
                    
                    battery.addEventListener('levelchange', function() {
                        updateBatteryInfo(battery);
                    });
                    
                    battery.addEventListener('chargingchange', function() {
                        updateBatteryInfo(battery);
                    });
                });
            } else {
                document.getElementById('battery-level').textContent = 'Tidak tersedia';
                document.getElementById('charging-status').textContent = '';
            }
        }

        function updateBatteryInfo(battery) {
            const level = Math.round(battery.level * 100);
            document.getElementById('battery-level').textContent = level;
            
            if (battery.charging) {
                document.getElementById('charging-status').textContent = '(Charging)';
                document.getElementById('charging-status').style.color = 'green';
            } else {
                document.getElementById('charging-status').textContent = '(Not Charging)';
                document.getElementById('charging-status').style.color = 'red';
            }
        }

        // Script untuk upload file
        document.addEventListener('DOMContentLoaded', function() {
            getIPAddress();
            getBatteryStatus();
            
            // File input change event
            document.getElementById('fileInput').addEventListener('change', function(e) {
                const file = e.target.files[0];
                const fileLabel = document.getElementById('fileLabel');
                const fileInfo = document.getElementById('fileInfo');
                
                if (file) {
                    fileLabel.textContent = file.name;
                    
                    // Format ukuran file
                    const fileSize = (file.size / (1024 * 1024)).toFixed(2);
                    const fileType = file.type || 'Unknown';
                    
                    fileInfo.innerHTML = `
                        <strong>Nama File:</strong> ${file.name}<br>
                        <strong>Ukuran:</strong> ${fileSize} MB<br>
                        <strong>Tipe:</strong> ${fileType}<br>
                        <strong>Last Modified:</strong> ${new Date(file.lastModified).toLocaleString()}
                    `;
                } else {
                    fileLabel.textContent = 'Choose file';
                    fileInfo.innerHTML = 'Belum ada file yang dipilih';
                }
            });
            
            // Form submit event
            document.getElementById('uploadForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const fileInput = document.getElementById('fileInput');
                const spinner = document.getElementById('uploadSpinner');
                const resultContainer = document.getElementById('resultContainer');
                const errorContainer = document.getElementById('errorContainer');
                
                if (!fileInput.files.length) {
                    showError('Pilih file terlebih dahulu');
                    return;
                }
                
                const file = fileInput.files[0];
                
                // Validasi ukuran file (opsional)
                if (file.size > 100 * 1024 * 1024) { // 100MB
                    if (!confirm('File Anda lebih besar dari 100MB. Lanjutkan upload?')) {
                        return;
                    }
                }
                
                const formData = new FormData();
                formData.append('file', file);
                
                spinner.classList.remove('d-none');
                resultContainer.classList.add('d-none');
                errorContainer.classList.add('d-none');
                
                try {
                    const response = await fetch('/api/upload-top4top', {
                        method: 'POST',
                        body: formData
                    });
                    
                    const result = await response.json();
                    
                    if (result.status === 200 && result.data.response.download_url) {
                        const downloadUrl = result.data.response.download_url;
                        document.getElementById('downloadUrl').value = downloadUrl;
                        document.getElementById('openUrl').href = downloadUrl;
                        resultContainer.classList.remove('d-none');
                    } else {
                        showError('Upload gagal: ' + (result.data.response.message || 'Unknown error'));
                    }
                } catch (error) {
                    showError('Error: ' + error.message);
                } finally {
                    spinner.classList.add('d-none');
                }
            });
            
            // Reset modal saat ditutup
            $('#uploadModal').on('hidden.bs.modal', function () {
                resetForm();
            });
        });

        function copyToClipboard() {
            const urlInput = document.getElementById('downloadUrl');
            urlInput.select();
            urlInput.setSelectionRange(0, 99999);
            document.execCommand('copy');
            
            // Show toast or alert
            alert('URL telah disalin ke clipboard!');
        }

        function shareResult() {
            const url = document.getElementById('downloadUrl').value;
            if (navigator.share) {
                navigator.share({
                    title: 'File Uploaded via Geraldo APIs',
                    text: 'Check out this file I uploaded',
                    url: url
                });
            } else {
                copyToClipboard();
            }
        }

        function showError(message) {
            const errorContainer = document.getElementById('errorContainer');
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorContainer.classList.remove('d-none');
        }

        function resetForm() {
            document.getElementById('uploadForm').reset();
            document.getElementById('fileLabel').textContent = 'Choose file';
            document.getElementById('fileInfo').innerHTML = 'Belum ada file yang dipilih';
            document.getElementById('resultContainer').classList.add('d-none');
            document.getElementById('errorContainer').classList.add('d-none');
        }
    </script>
</body>

</html>